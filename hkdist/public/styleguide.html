<!DOCTYPE html>
<html>
  <head>
    <title>hk style guide</title>

    <style>
      body {
        background: #282A36;
        color: white;
        font-family: Helvetica;
      }

      #viewing-options {
        padding: 0;
      }

      #viewing-options li {
        display: inline-block;
        margin-right: 20px;
      }

      td {
        font-family: monospace;
        padding-right: 10px;
      }

      td:first-child {
        width: 460px;
      }

      h2 {
        color: #5A5D6E;
      }

      .prompt,
      .comment {
        color: #6272A4;
      }

      .command {
        color: white;
      }

      .root {
        color: #FF79C6;
        font-weight: bold;
      }

      .arguments {
        color: #66D9D0;
      }
    </style>
  </head>

  <body>
    <script id="command-structure" type="text/x-handlebars-template">
      {{#groups}}
      <h2>{{title}}</h2>

      <table>
        {{#commands}}
        <tr>
          <td>
            <span class='prompt'>$</span>
            <span class='command'>hk</span>
            <span class='root'>{{root}}</span>
            <span class='arguments'>{{arguments}}</span>
          </td>
          <td class='comment'># {{comment}}</td>
        </tr>
        {{/commands}}
      </table>
      {{/groups}}
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/1.1.2/handlebars.min.js"></script>

    <script>
      var source = $('#command-structure').html();
      var template = Handlebars.compile(source);

      var data = [
        {
          "commands": [
            {
              "root": "apps",
              "arguments": "[<name>...]",
              "comment": "list apps"
            },
            {
              "root": "create", // without arguments start interactive prompt like npm init
              "arguments": "[-r region] [name]",
              "comment": "create an app"
            },
            {
              "root": "destroy", // keep it like `heroku` (interactive wihout confirm)
              "arguments": "<name>",
              "comment": "destroy an app"
            },
            {
              "root": "info",
              "arguments": "",
              "comment": "show app info"
            },
            {
              "root": "log", // Change to 'logs'? no one says check the log...other lists are plural
              "arguments": "[-n lines] [-s source] [-d dyno]",
              "comment": "stream app log lines"
            },
            {
              "root": "open",
              "arguments": "",
              "comment": "open app in a web browser (extra)"
            },
            {
              "root": "rename", // doesn't follow -a convention...
              "arguments": "<oldname> <newname>",
              "comment": "rename an app"
            },
            {
              "root": "transfer",
              "arguments": "<email>",
              "comment": "transfer app ownership to a collaborator (extra)"
            },
            {
              "root": "transfer-accept",
              "arguments": "",
              "comment": "accept an inbound app transfer (extra)"
            },
            {
              "root": "transfer-cancel",
              "arguments": "",
              "comment": "cancel an outbound app transfer (extra)"
            },
            {
              "root": "transfer-decline",
              "arguments": "",
              "comment": "decline an inbound app transfer (extra)"
            },
            {
              "root": "transfers",
              "arguments": "",
              "comment": "list existing app transfers (extra)"
            },
            {
              "root": "url",
              "arguments": "",
              "comment": "show app url (extra)"
            },
            {
              "root": "which-app",
              "arguments": "",
              "comment": "show which app is selected, if any (extra)"
            }
          ],
          "title": "app"
        },
        {
          "commands": [
            {
              "root": "dynos",
              "arguments": "[<name>...]",
              "comment": "list dynos"
            },
            {
              "root": "restart",
              "arguments": "[<type or name>]",
              "comment": "restart dynos"
            },
            {
              "root": "run",
              "arguments": "[-s <size>] [-d] <command> [<argument>...]",
              "comment": "run a process in a dyno"
            },
            {
              "root": "scale",
              "arguments": "<type>=[<qty>]:[<size>]...",
              "comment": "change dyno quantities and sizes"
            }
          ],
          "title": "dyno"
        },
        {
          "commands": [
            {
              "root": "release-info",
              "arguments": "<version>",
              "comment": "show release info"
            },
            {
              "root": "releases",
              "arguments": "[<version>...]",
              "comment": "list releases"
            },
            {
              "root": "rollback",
              "arguments": "<version>",
              "comment": "rolback to a previous release"
            }
          ],
          "title": "release"
        },
        {
          "commands": [
            {
              "root": "addon-add",
              "arguments": "<provider>[:<plan>] [<config>=<value>...]",
              "comment": "add an addon"
            },
            {
              "root": "addon-open",
              "arguments": "<provider>[:<plan>]",
              "comment": "open an addon (extra)"
            },
            {
              "root": "addon-remove",
              "arguments": "<provider>:<plan>",
              "comment": "remove an addon"
            },
            {
              "root": "addons",
              "arguments": "[<provider>:<plan>...]",
              "comment": "list addons"
            }
          ],
          "title": "add-on"
        },
        {
          "commands": [
            {
              "root": "env",
              "arguments": "",
              "comment": "list env vars"
            },
            {
              "root": "get",
              "arguments": "<name>",
              "comment": "get env var (extra)"
            },
            {
              "root": "set",
              "arguments": "<name>=<value> ...",
              "comment": "set env var" // allow piping .env file
            },
            {
              "root": "unset",
              "arguments": "<name> ...",
              "comment": "unset env var"
            }
          ],
          "title": "config"
        },
        {
          "commands": [
            {
              "root": "domain-add",
              "arguments": "<domain>", // allow multiple domains at a time, allow piping
              "comment": "add a domain"
            },
            {
              "root": "domain-remove",
              "arguments": "<domain>",
              "comment": "remove a domain"
            },
            {
              "root": "domains",
              "arguments": "",
              "comment": "list domains"
            }
          ],
          "title": "domain"
        },
        {
          "commands": [
            {
              "root": "sshkey-add",
              "arguments": "[<public-key-file>]",
              "comment": "add ssh public key"
            },
            {
              "root": "sshkey-remove",
              "arguments": "<name>",
              "comment": "remove ssh public key"
            },
            {
              "root": "sshkeys",
              "arguments": "",
              "comment": "list ssh public keys"
            },
            {
              "root": "login",
              "arguments": "", // not sure how to make it non-interactive
              "comment": "log in to heroku"
            },
            {
              "root": "logout",
              "arguments": "",
              "comment": "log out of heroku"
            }
          ],
          "title": "account"
        },
        {
          "commands": [
            {
              "root": "about",
              "arguments": "",
              "comment": "information about hk (e.g. copyright, license, etc.)"
            },
            {
              "root": "api",
              "arguments": "<method> <path>",
              "comment": "make a single API request (extra)"
            },
            {
              "root": "creds", // remove it?
              "arguments": "",
              "comment": "show credentials (extra)"
            },
            {
              "root": "environ",
              "arguments": "",
              "comment": "environment variables used by hk"
            },
            {
              "root": "help",
              "arguments": "[<topic>]",
              "comment": ""
            },
            {
              "root": "more",
              "arguments": "",
              "comment": "additional commands, less frequently used"
            },
            {
              "root": "plugins",
              "arguments": "",
              "comment": "interface to plugin commands"
            },
            {
              "root": "update",
              "arguments": "",
              "comment": ""
            },
            {
              "root": "version",
              "arguments": "",
              "comment": "show hk version"
            }
          ],
          "title": "hk"
        }
      ]

      $('body').append(template({groups: data}));
    </script>
  </body>
</html>
